webpackJsonp([7],{204:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(151),r=s(o);e.default={data:function(){return{mobile:"",sending:!1,codeInterval:null}},computed:{btnSMSDisabled:function(){return!/^1[34578]\d{9}$/.test(this.mobile)||0!=this.sending}},methods:{test_mobile:function(){return""==this.mobile?(this.$dispatch("popup","手机号不能为空"),!1):!!/^1[34578]\d{9}$/.test(this.mobile)||(this.$dispatch("popup","手机号格式不正确"),!1)},test_old_password:function(){return""==this.old_password?(this.$dispatch("popup","原密码不能为空"),!1):!!/^\S{6,}$/.test(this.old_password)||(this.$dispatch("popup","原密码最少6位"),!1)},test_password:function(){return""==this.password?(this.$dispatch("popup","密码不能为空"),!1):!!/^\S{6,}$/.test(this.password)||(this.$dispatch("popup","密码最少6位"),!1)},test_re_password:function(){return this.password==this.re_password||(this.$dispatch("popup","2次输入的密码不一致"),!1)},test_code:function(){return""==this.code?(this.$dispatch("popup","验证码不能为空"),!1):!!/^\d{4,6}$/.test(this.code)||(this.$dispatch("popup","验证码错误"),!1)},test_username:function(){return""==this.username?(this.$dispatch("popup","用户账号不能为空"),!1):!!/(^1[34578]\d{9}$)|(\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14})/.test(this.username)||(this.$dispatch("popup","用户账号格式不正确"),!1)},validate:function(t){var e=!0,i=!1,s=void 0;try{for(var o,a=(0,r.default)(t);!(e=(o=a.next()).done);e=!0){var n=o.value;if(!this["test_"+n]())return!1}}catch(t){i=!0,s=t}finally{try{!e&&a.return&&a.return()}finally{if(i)throw s}}return!0},getSMS:function(t){var e=this;if(!this.btnSMSDisabled){this.sending=!0,this.getCodeInterval(t.target);var i={mobile:this.mobile};this.$http.post("/User/sendSms.json",i).then(function(t){t=t.json(),1==t.status?e.$dispatch("popup","验证码已发送到手机"):e.$dispatch("popup",t.msg)})}},getCodeInterval:function(t){var e=this,i=60;this.codeInterval=setInterval(function(){return i<=0?(clearInterval(e.codeInterval),e.sending=!1,void(t.innerHTML="获取验证码")):void(t.innerHTML="("+i--+")重发")},1e3)}}}},211:function(t,e,i){var s,o,r={};i(212),s=i(214),o=i(215),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(r).forEach(function(t){var e=r[t];a.computed[t]=function(){return e}})},212:function(t,e,i){var s=i(213);"string"==typeof s&&(s=[[t.id,s,""]]);i(22)(s,{});s.locals&&(t.exports=s.locals)},213:function(t,e,i){e=t.exports=i(3)(),e.push([t.id,'.container[_v-3b631851]{background:#fff}.input-form[_v-3b631851]{border-bottom:1px solid #e1e1e1}.input-item[_v-3b631851]{height:3rem;margin:0 .8rem;border-top:1px solid #e1e1e1;font-size:.9rem;display:-webkit-box;display:-ms-flexbox;display:flex;display:-webkit-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-align-items:center}.input-item[_v-3b631851]:first-child{border-top:0}.input-item .font[_v-3b631851]{width:2.4rem;font-size:1.5rem;display:block}.input-item input[_v-3b631851]{height:100%;border:0;font-size:1em;display:block;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-flex:1}.input-item .input-msg[_v-3b631851]{color:#f03439}.input-item .img-code[_v-3b631851]{width:6rem;cursor:pointer;display:block}.input-item .btn[_v-3b631851]{width:6rem;line-height:2.2rem;background:#202020;border-radius:4px;-webkit-transition:1s ease-out;transition:1s ease-out}.input-item .btn.disabled[_v-3b631851]{background:#d2d2d2}.btn-block[_v-3b631851]{width:90%;line-height:3rem;margin:.8rem auto;border-radius:8px;background:#202020;display:block}.btn-block.disabled[_v-3b631851]{background:#d2d2d2}.login-action[_v-3b631851]{font-size:.9rem;text-align:center}.login-action i[_v-3b631851]{width:1px;height:1rem;margin:0 1rem;background:#c7c7c7;display:inline-block;vertical-align:text-bottom}.login-action .hl[_v-3b631851]{color:#f40c1d}.reminder[_v-3b631851]{padding:0 .8rem;font-size:.9rem;color:#202020}.reminder dt[_v-3b631851]{padding-bottom:.2rem}.reminder p[_v-3b631851]{margin:.1rem 0;color:#949494}.popup-wrap[_v-3b631851]{width:100%;height:100%;position:fixed;top:0;left:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.popup-wrap.close[_v-3b631851]{opacity:0;-webkit-transition:1s ease-out;transition:1s ease-out}.popup-wrap span[_v-3b631851]{padding:.6rem 1rem;border-radius:4px;background:rgba(32,32,32,.85);color:#fff}.loginLoading[_v-3b631851]{margin-top:30%;text-align:center}.loginLoading .isLoading[_v-3b631851]{display:inline-block}.loginLoading span[_v-3b631851]{font-size:1rem;margin-top:1rem;display:table-cell;vertical-align:middle}.loadingTimer[_v-3b631851]{display:table-cell}.isShowLogin[_v-3b631851]{display:none}.isShowLogin.on[_v-3b631851]{display:block}.wrapper[_v-3b631851]{width:110px;max-width:100%}aside[_v-3b631851]{float:left;width:50%;margin:60px 0 40px}aside h1[_v-3b631851]{margin-bottom:0}aside .sup[_v-3b631851]{font-style:italic;color:#999;margin-top:4px}@-webkit-keyframes timerRotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}}@keyframes timerRotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}}@-webkit-keyframes bottomFill{0%{border-bottom-width:0}50%{border-bottom-width:12px}to{border-bottom-width:12px}}@keyframes bottomFill{0%{border-bottom-width:0}50%{border-bottom-width:12px}to{border-bottom-width:12px}}@-webkit-keyframes topEmpty{0%{top:3px;border-top-width:12px;border-left-width:7px;border-right-width:7px}50%{top:16px;border-top-width:0;border-left-width:0;border-right-width:0}to{top:16px;border-top-width:0;border-left-width:0;border-right-width:0}}@keyframes topEmpty{0%{top:3px;border-top-width:12px;border-left-width:7px;border-right-width:7px}50%{top:16px;border-top-width:0;border-left-width:0;border-right-width:0}to{top:16px;border-top-width:0;border-left-width:0;border-right-width:0}}.loader[_v-3b631851]{width:50%;height:200px;float:left;-webkit-transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-perspective:1000}.timerWrap[_v-3b631851]{position:relative;animation:timerRotate 1s infinite ease;-webkit-animation:timerRotate 1s infinite ease;-moz-animation:timerRotate 1s infinite ease;-ms-animation:timerRotate 1s infinite ease;width:24px;height:32px;display:inline-block;margin-right:10px}.timerWrap[_v-3b631851]:before{border-width:12px 7px 0;border-color:red transparent transparent;top:3px;animation:topEmpty 1s infinite ease;-webkit-animation:topEmpty 1s infinite ease;-moz-animation:topEmpty 1s infinite ease;-ms-animation:topEmpty 1s infinite ease}.timerWrap[_v-3b631851]:after,.timerWrap[_v-3b631851]:before{content:"";width:0;height:0;border-style:solid;position:absolute;left:0;right:0;margin:auto}.timerWrap[_v-3b631851]:after{border-width:0 7px 12px;border-color:transparent transparent red;bottom:3px;animation:bottomFill 1s infinite ease;-webkit-animation:bottomFill 1s infinite ease;-moz-animation:bottomFill 1s infinite ease;-ms-animation:bottomFill 1s infinite ease}.timerWrap .timer[_v-3b631851]{width:24px;height:32px;position:relative;top:0;left:0}.timerWrap .timer path[_v-3b631851]{fill:#000}',""])},214:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(25),r=i(204),a=s(r),n=i(31);e.default={mixins:[a.default],vuex:{getters:{isLogin:o.isLogin},actions:{updateAppHeader:n.updateAppHeader}},ready:function(){},route:{data:function(){var t=this;this.old_password="",this.password="",this.re_password="",this.$watch("isLogin",function(e){1==e?(t.updateAppHeader({type:2,content:"修改密码"}),t.showResetPassword=!0,t.showOldPassword=!0):(t.updateAppHeader({type:2,content:"找回密码"}),t.showResetPassword=!1)},{immediate:!0})}},data:function(){return{validateUserMsg:"",username:"",code:"",showResetPassword:!1,showOldPassword:!1,old_password:"",password:"",re_password:"",isSuccess:!1}},watch:{username:function(){this.validateUserMsg=""}},computed:{accountType:function(){return/^1[34578]\d{9}$/.test(this.username)?(this.mobile=this.username,"mobile"):!!/\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/.test(this.username)&&"email"},btnCodeDisabled:function(){return!this.accountType}},methods:{getEmailCode:function(t){var e=this;if(!this.btnCodeDisabled){this.sending=!0,this.getCodeInterval(t.currentTarget);var i={email:this.username};this.$http.post("/User/sendEmail.json",i).then(function(t){t=t.json(),1==t.status?e.$dispatch("popup","验证码已发送到邮箱"):e.$dispatch("popup",t.msg)})}},getCode:function(t){var e=this;this.validateUser(this.username).then(function(i){if(1==i)switch(e.accountType){case"mobile":e.getSMS(t);break;case"email":e.getEmailCode(t)}else e.validateUserMsg=i})},validateUser:function(t){var e={username:t,type:1};return this.$http.post("/User/find_password.json",e).then(function(t){return t=t.json(),1==t.status||t.msg})},findPassword:function(){var t=this;if(this.validate(["username","code"])){var e={username:this.username,code:this.code,check:this.accountType,type:2};this.$http.post("/User/find_password.json",e).then(function(e){e=e.json(),1==e.status?t.showResetPassword=!0:t.$dispatch("popup",e.msg)})}},resetPassword:function(){var t=this;if(this.validate(["password","re_password"])&&!this.isSuccess){var e={password:this.password,re_password:this.re_password,type:3};this.$http.post("/User/find_password.json",e).then(function(e){e=e.json(),1==e.status?(t.isSuccess=!0,t.$dispatch("popup","密码重置成功"),t.$route.router.go({name:"login"})):t.$dispatch("popup",e.msg)})}},loginresetPassword:function(){var t=this;if(this.validate(["old_password","password","re_password"])){var e={old_password:this.old_password,password:this.password,re_password:this.re_password,type:3};this.$http.post("/User/resetPassword.json",e).then(function(e){e=e.json(),1==e.status?(t.$dispatch("popup","密码重置成功"),t.$route.router.go({name:"login"})):t.$dispatch("popup",e.msg)})}}}}},215:function(t,e){t.exports=' <div class=container _v-3b631851=""> <div v-if="showResetPassword == false" _v-3b631851=""> <form id=form action="" method=post _v-3b631851=""> <div class=input-form _v-3b631851=""> <label class=input-item _v-3b631851=""> <i class="font icon-user" _v-3b631851=""></i><input type=text placeholder=请输入手机/邮箱 v-model=username _v-3b631851=""><span class=input-msg _v-3b631851="">{{validateUserMsg}}</span> </label> <label class=input-item _v-3b631851=""> <i class="font icon-validate-code" _v-3b631851=""></i><input type=text placeholder=请输入验证码 v-model=code _v-3b631851=""><a class=btn :class={disabled:btnCodeDisabled} href=javascript:; @click=getCode($event) _v-3b631851="">获取验证码</a> </label> </div> <a class="btn btn-block" href=javascript:; @click=findPassword _v-3b631851="">下 一 步</a> </form> <dl class=reminder _v-3b631851=""> <dt _v-3b631851="">温馨提示：</dt> <dd _v-3b631851=""> <p _v-3b631851="">初始注册的会员账户是首次购物的手机号码；</p> <p _v-3b631851="">初始注册的登录密码是手机号码的后6位。</p> </dd> </dl> </div> <div v-else="" _v-3b631851=""> <form id=form action="" method=post _v-3b631851=""> <div class=input-form _v-3b631851=""> <label class=input-item v-if="showOldPassword == true" _v-3b631851=""> <i class="font icon-password" _v-3b631851=""></i><input type=password placeholder=请输原密码 v-model=old_password _v-3b631851=""> </label> <label class=input-item _v-3b631851=""> <i class="font icon-password" _v-3b631851=""></i><input type=password placeholder=请输入新密码 v-model=password _v-3b631851=""> </label> <label class=input-item _v-3b631851=""> <i class="font icon-password" _v-3b631851=""></i><input type=password placeholder=请确认新密码 v-model=re_password _v-3b631851=""> </label> </div> <a class="btn btn-block" href=javascript:; v-if="showOldPassword == false" @click=resetPassword _v-3b631851="">确 认 修 改</a> <a class="btn btn-block" href=javascript:; v-if="showOldPassword == true" @click=loginresetPassword _v-3b631851="">确 认 修 改</a> </form> <dl class=reminder _v-3b631851=""> <dt _v-3b631851="">温馨提示：</dt> <dd _v-3b631851=""><p _v-3b631851="">重置密码后请重新登录，并完善您的个人信息，确保信息安全。</p></dd> </dl> </div> </div> '}});