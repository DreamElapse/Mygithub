webpackJsonp([14],{182:function(t,i,e){var o,n,m={};e(183),o=e(185),n=e(186),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports.default);var s="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(s.template=n),s.computed||(s.computed={}),Object.keys(m).forEach(function(t){var i=m[t];s.computed[t]=function(){return i}})},183:function(t,i,e){var o=e(184);"string"==typeof o&&(o=[[t.id,o,""]]);e(22)(o,{});o.locals&&(t.exports=o.locals)},184:function(t,i,e){i=t.exports=e(3)(),i.push([t.id,".comments-none{padding:3rem 0;text-align:center}.good-comment{background:#fff;overflow:hidden;margin-top:.4rem}.good-comment .info{border-bottom:1px solid #f4f4f4;padding:0 .65rem;height:2.4rem}.good-comment .info a{color:#b2b2b2;line-height:2.3rem;height:2.4rem;display:block}.good-comment .info a span{font-size:.75rem;display:inline-block}.good-comment-text{float:right}.comment-list{padding:0 .65rem;overflow:hidden}.comment-list li{padding:.65rem 0;overflow:hidden;border-bottom:1px solid #e8e8e8}.comment-list .comment-item{overflow:hidden}.comment-list .comment-item .item-left{float:left;width:18%;text-align:center}.comment-list .comment-item .item-right{float:left;width:82%}.comment-img{padding-top:.5rem}.comment-img span{display:inline-block}.comment-item .item-left span{display:inline-block;text-align:center;width:82%}.comment-item .item-left span img{max-width:88px;width:100%}.uaer-name{font-size:.75rem;padding-right:.5rem}.comment-date{float:right;color:#b5b5b5;font-size:.65rem}.comment-container p{font-size:.72rem}.comment-img{display:-webkit-box;display:-ms-flexbox;display:flex;display:-webkit-flex}.comment-img .item-img{width:25%;margin-right:.4rem;display:block}",""])},185:function(t,i,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var n=e(151),m=o(n),s=e(31);i.default={vuex:{actions:{setBuyOption:s.setBuyOption}},ready:function(){this.loadComments()},data:function(){return{loading:!1,loadingText:"加载中...",loadTry:0,gid:this.$route.params.id,page:1,comments:[]}},props:{limit:{type:Number},commentList:{}},watch:{commentList:function(t){this.comments=t}},methods:{loadComments:function(){this.loading=!0,parseInt(this.gid)?this.goodsComments():void 0==this.commentList&&this.topicComments()},goodsComments:function(){var t=this,i={gid:this.gid,limit:this.limit?this.limit:5,page:this.page};this.$http.post("/Goods/getGoodComment.json",i).then(function(i){if(i=i.json(),1==i.status){var e=!0,o=!1,n=void 0;try{for(var s,a=(0,m.default)(i.data);!(e=(s=a.next()).done);e=!0){var l=s.value;t.comments.push(l)}}catch(t){o=!0,n=t}finally{try{!e&&a.return&&a.return()}finally{if(o)throw n}}t.$nextTick(function(){return t.limit?void(t.loading=!0):void(0==i.data.length?(t.loadingText="没有更多了",t.loading=!0):t.loading=!1)})}else t.loading=!1},function(){t.loadTry++,t.loading=!1,t.loadTry>=3&&(t.loading=!0)})},topicComments:function(){var t=this,i={page_name:this.gid,limit:this.limit?this.limit:5,page:this.page};this.$http.post("/Goods/specialPage.json",i).then(function(i){if(i=i.json(),1==i.status){var e=!0,o=!1,n=void 0;try{for(var s,a=(0,m.default)(i.data.comment_list);!(e=(s=a.next()).done);e=!0){var l=s.value;t.comments.push(l)}}catch(t){o=!0,n=t}finally{try{!e&&a.return&&a.return()}finally{if(o)throw n}}t.setBuyOption({selected:i.data.goods_list[0],list:i.data.goods_list}),t.$nextTick(function(){return t.limit?void(t.loading=!0):void(0==i.data.comment_list.length?(t.loadingText="没有更多了",t.loading=!0):t.loading=!1)})}else t.loading=!1},function(){t.loadTry++,t.loading=!1,t.loadTry>=3&&(t.loading=!0)})},loadMore:function(){this.page+=1,this.loadComments()}}}},186:function(t,i){t.exports=' <div v-if="comments.length == 0" class=comments-none>暂无评论</div> <div v-else> <ul class=comment-list v-infinite-scroll=loadMore() infinite-scroll-disabled=loading> <li v-for="item in comments"> <div class=comment-item> <div class=item-left> <span class=user> <img src=/public/images/detail/person.jpg alt=""/> </span> </div> <div class=item-right> <div class=uaer-name>{{item.user_name}}</div> <div class=comment-container> <p>{{item.content}}</p> </div> <div class=comment-img> <span class=item-img><img :src=item.pic alt=""/></span> <span class=item-img><img :src=item.pic1 alt=""/></span> </div> </div> </div> </li> </ul> <div v-if="limit == undefined" class=load-more>{{loadingText}}</div> </div> '}});